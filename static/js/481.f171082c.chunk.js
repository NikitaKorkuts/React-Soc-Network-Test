"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[481],{2355:function(t,s,e){e.r(s),e.d(s,{default:function(){return W}});var r=e(8683),n=e(5671),i=e(3144),o=e(136),a=e(2882),u=e(2791),c=e(5987),l={wallImg:"UserProfile_wallImg__lKqBV",user:"UserProfile_user__yIAs+",userAvatar:"UserProfile_userAvatar__Gf5sM",userInfo:"UserProfile_userInfo__AMjvC",infoName:"UserProfile_infoName__3Rda4",contact:"UserProfile_contact__g4jDo"},d=e(4183),p=e(4353),f=e.p+"static/media/defaultWallImg.4f0456f98dc70ee590c4.jpg",h=e(885),x="ProfileStatus_aboutMeText__zB6e-",j=e(184),m=function(t){var s=(0,u.useState)(!1),e=(0,h.Z)(s,2),r=e[0],n=e[1],i=(0,u.useState)(t.status),o=(0,h.Z)(i,2),a=o[0],c=o[1];(0,u.useEffect)((function(){c(t.status)}),[t.status]);return(0,j.jsxs)(j.Fragment,{children:[!r&&(0,j.jsx)("div",{children:(0,j.jsx)("p",{className:x,onClick:function(){n(!0)},children:t.status||"no status"})}),r&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{type:"text",onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(a)},value:a})})]})},v=function(t){if(t.profile){return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:l.wallImg,children:(0,j.jsx)("img",{src:f,alt:"wallImg"})}),(0,j.jsxs)("div",{className:l.user,children:[(0,j.jsx)("div",{className:l.userAvatar,children:(0,j.jsx)("img",{src:t.profile.photos.large?t.profile.photos.large:p,alt:"avatar"})}),(0,j.jsxs)("div",{className:l.userInfo,children:[(0,j.jsx)("div",{className:l.infoName,children:(0,j.jsx)("p",{children:t.profile.fullName})}),(0,j.jsx)(m,{status:t.status,updateStatus:t.updateStatus})]})]}),function(){if(t.profile.aboutMe)return(0,j.jsxs)("div",{className:"aboutMe",children:[(0,j.jsx)("h1",{children:"About Me"}),(0,j.jsx)("p",{children:t.profile.aboutMe})]})}(),function(){if(t.profile.lookingForAJob)return(0,j.jsxs)("div",{className:l.lookingForJob,children:[(0,j.jsx)("h1",{children:"Looking For Job:"}),(0,j.jsx)("p",{children:t.profile.lookingForAJobDescription})]})}(),function(){var s=t.profile.contacts,e=[];for(var r in s)if(s[r]){var n=(0,j.jsx)("div",{className:l.contact,children:(0,j.jsxs)("p",{children:["".concat(r,": "),(0,j.jsx)("a",{href:s[r],children:s[r]})]})});e.push(n)}if(e.length>0)return(0,j.jsxs)("div",{className:l.contacts,children:[(0,j.jsx)("h1",{className:l.contactsHeader,children:"Contacts"}),e]})}()]})})}return(0,j.jsx)(d.Z,{})},_=e(6070),g="Post_post__iiIhZ",P="Post_postAvatar__Dz3MW",Z="Post_postText__EqY0-",N="Post_postLikes__Gz9B8",b=function(t){return(0,j.jsxs)("div",{className:g,children:[(0,j.jsx)("div",{className:P,children:(0,j.jsx)("img",{src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png",alt:"avatar"})}),(0,j.jsx)("div",{className:Z,children:(0,j.jsx)("p",{children:t.message})}),(0,j.jsx)("div",{className:N,children:(0,j.jsx)("span",{children:t.likesCount})})]})},S="Posts_sendPost__HUOat",k="Posts_posts__gXkRo",C=e(6139),I=e(704),U=e(8610),A=e(8592),y=(0,U.D)(10),F=(0,I.Z)({form:"sendPost"})((function(t){return(0,j.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,j.jsx)(C.Z,{validate:[U.C,y],component:A.gx,name:"post",id:"post"}),(0,j.jsx)("button",{type:"submit",children:"Send Post"})]})})),M=function(t){return(0,j.jsxs)("div",{className:S,children:[(0,j.jsx)("h1",{children:"My posts"}),(0,j.jsx)(F,{onSubmit:function(s,e){t.addPost(s.post),t.resetPost(e)}})]})},w=function(t){var s=t.posts.map((function(t){return(0,j.jsx)(b,{likesCount:t.likesCount,message:t.message},t.id)}));return console.log("Posts Render"),(0,j.jsxs)("div",{children:[(0,j.jsx)(M,{resetPost:t.resetPost,addPost:t.addPost}),(0,j.jsx)("div",{className:k,children:s})]})},D=e(8687),q=e(2381),B=(0,D.$j)((function(t){return{posts:t.profile.posts}}),(function(t){return{addPost:function(s){t((0,_.Wl)(s))},resetPost:function(t){t((0,q.mc)("sendPost"))}}}))(w),J=["status","updateStatus","profile"],L=function(t){var s=t.status,e=t.updateStatus,r=t.profile;(0,c.Z)(t,J);return(0,j.jsxs)("div",{children:[(0,j.jsx)(v,{status:s,updateStatus:e,profile:r}),(0,j.jsx)(B,{})]})},T=e(5628),z=e(7781),E=e(6871),G=function(t){(0,o.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.id||this.props.authUserId;t&&(this.props.getUserProfile(t),this.props.getUserStatus(t))}},{key:"render",value:function(){return this.props.isAuth||this.props.router.params.id?(0,j.jsx)("div",{children:(0,j.jsx)(L,(0,r.Z)((0,r.Z)({},this.props),{},{updateStatus:this.props.updateUserStatus,status:this.props.status,profile:this.props.profile}))}):(0,j.jsx)(E.Fg,{to:"/login"})}}]),e}(u.Component),R={getUserProfile:_.et,getUserStatus:_.Tq,updateUserStatus:_.OL},W=(0,z.qC)(T.E,(0,D.$j)((function(t){return{profile:t.profile.profile,status:t.profile.status,authUserId:t.auth.userId,isAuth:t.auth.isAuth}}),R))(G)},8592:function(t,s,e){e.d(s,{II:function(){return f},gx:function(){return p},Gr:function(){return h}});var r=e(8683),n=e(5987),i=(e(2791),"FormControls_formControl__1dLyi"),o="FormControls_error__QpIf-",a=e(6139),u=e(184),c=["input","meta","child"],l=["input","meta","child"],d=function(t){t.input;var s=t.meta,e=s.touched,r=s.error,n=t.children,a=e&&r;return(0,u.jsxs)("div",{className:i+" "+(a?o:""),children:[n,a&&(0,u.jsx)("span",{children:r})]})},p=function(t){var s=t.input,e=(t.meta,t.child,(0,n.Z)(t,c));return(0,u.jsx)(d,(0,r.Z)((0,r.Z)({},t),{},{children:(0,u.jsx)("textarea",(0,r.Z)((0,r.Z)({},s),e))}))},f=function(t){var s=t.input,e=(t.meta,t.child,(0,n.Z)(t,l));return(0,u.jsx)(d,(0,r.Z)((0,r.Z)({},t),{},{children:(0,u.jsx)("input",(0,r.Z)((0,r.Z)({},s),e))}))},h=function(t,s,e,n,i){return(0,u.jsx)(a.Z,(0,r.Z)({component:t,validate:s,type:e,name:n},i))}},8610:function(t,s,e){e.d(s,{C:function(){return r},D:function(){return n}});var r=function(t){if(!t)return"Field is required"},n=function(t){return function(s){if(s.length>t)return"Field must be less than ".concat(t," symbols")}}}}]);
//# sourceMappingURL=481.f171082c.chunk.js.map